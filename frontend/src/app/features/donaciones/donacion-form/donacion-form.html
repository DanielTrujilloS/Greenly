<mat-card>
  <mat-card-title>{{
    isEdit ? "Editar Donación" : "Nueva Donación"
  }}</mat-card-title>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="name" required />
      <mat-error *ngIf="form.get('name')?.invalid">Requerido</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Descripción</mat-label>
      <textarea matInput formControlName="descripcion" required></textarea>
      <mat-error *ngIf="form.get('descripcion')?.invalid">Requerido</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Monto Donado</mat-label>
      <input matInput type="number" formControlName="montoDonado" required />
      <mat-error *ngIf="form.get('montoDonado')?.invalid"
        >Requerido / debe ser mayor a 0</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Método de Entrega</mat-label>
      <input matInput formControlName="metodoEntrega" required />
      <mat-error *ngIf="form.get('metodoEntrega')?.invalid"
        >Requerido</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Fecha Donación</mat-label>
      <input matInput type="date" formControlName="fechaDonacion" required />
      <mat-error *ngIf="form.get('fechaDonacion')?.invalid"
        >Requerido</mat-error
      >
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Campaña</mat-label>
      <mat-select formControlName="campañaId">
        <mat-option *ngFor="let c of campanias" [value]="c.id">{{
          c.titulo
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="error" class="error">{{ error }}</div>
    <button
      mat-flat-button
      color="primary"
      type="submit"
      [disabled]="loading || form.invalid"
    >
      {{ isEdit ? "Actualizar" : "Crear" }}
    </button>
    <button mat-button color="warn" type="button" (click)="cancelar()">
      Cancelar
    </button>
  </form>
</mat-card>
